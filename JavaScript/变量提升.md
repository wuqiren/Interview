所谓的变量提升，是指在JavaScript代码执行过程中，JavaScript引擎把变量的声明部分和函数的声明部分提升到代码开头的行为，变量被提升后，会给变量设置默认值，这个默认值就是我们熟悉的undefined

JavaScript代码的执行流程

从概念的字面意义上来看，变量提升意味着变量和函数声明会在物理层面移动到代码的最前面，但是这并不准确。
实际上变量和函数声明在代码的位置不会改变，而是在编译阶段被JavaScript引擎放入内存，一段JS代码在执行之前需要被JavaScript引擎编译，编译完成之后，才会进入执行阶段。

代码编译之后会生成两部门 执行上下文和可执行代码，执行上下文是JavaScript执行一段代码时的运行环境，比如调用一个函数，就会进入这个函数的执行上下文，确定该函数在执行期间用到的诸如this，变量，对象以及函数等








作用域是指在程序中定义变量的区域，该位置决定了变量的生命周期。通俗地理解，作用域就是变量与函数的可访问范围，即作用域控制着变量和函数的可见性和生命周期。



### 词法作用域

词法作用域就是指作用域是由代码中函数声明的位置来决定的，所以词法作作用域是静态的作用域，通过它就能够预测代码在执行过程中如何查找标识符。
词法作用域是代码编译阶段就决定好的，和函数是怎么调用没有关系


### 闭包
在JavaScript中，根据词法作用域的规则，内部函数总是可以访问其他外部函数中声明的变量，当通过调用一个外部函数返回一个内部函数后，即使该外部函数已经执行结束，但是内部函数引用外部函数的变量依然保存在内存中，我们就把这些变量的集合成为闭包

### 闭包回收
通常，如果引用闭包的函数是一个全局变量，那么闭包会一直存在直到页面关闭；但如果这个闭包以后不再使用的话，就会造成内存泄漏。如果引用闭包的函数是个局部变量，等函数销毁后，在下次 JavaScript 引擎执行垃圾回收时，判断闭包这块内容如果已经不再被使用了，那么 JavaScript 引擎的垃圾回收器就会回收这块内存。所以在使用闭包的时候，你要尽量注意一个原则：如果该闭包会一直使用，那么它可以作为全局变量而存在；但如果使用频率不高，而且占用内存又比较大的话，那就尽量让它成为一个局部变量。